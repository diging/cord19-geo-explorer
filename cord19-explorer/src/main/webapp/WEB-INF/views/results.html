<html layout:decorate="~{layouts/main}">
<head>
<title>Authority Matcher</title>
</head>
<body>
	<div layout:fragment="content">
		<form th:action="@{'/result'}" method="GET">
			<input type="text" id="search" th:name="search">
			<button type="submit" id="submit">Search Publications</button>
		</form>
		<h3>Search Results</h3>
		<div th:each="pub, iStat : ${matchedPublicationsPage}">
			<b><a th:href="@{'/paper/' + ${pub.paperId}}">[[${#strings.defaultString(pub.metadata.title,
					'No title available')}]]</a></b> <br>
			<div th:each="author, iterstat : ${pub.metadata.authors}"
				style="padding-bottom: 10px; display: inline">
				<b th:if="${author.name == null}">[[${author.first}]]
					[[${#strings.listJoin(author.middle,',')}]] [[${author.last}]]</b> <b
					th:if="${author.name != null}">[[${author.name}]]</b>
					<span th:text="!${iterstat.last} ? ',': ''"></span>
			</div>
			
		</div>
		<div th:if="${totalPages > 0}"
			class="pagination" th:each="pageNumber : ${pageNumbers}">
			<a
				th:href="@{/page(size=${#lists.size(matchedPublicationsPage)}, page=${pageNumber}, search=${title}, totalPages=${totalPages})}"
				th:text=${pageNumber}></a>
		</div>
</body>
<style>
.pagination {
	display: inline-block;
}

.pagination a {
	color: black;
	float: left;
	padding: 5px 5px;
	text-decoration: none;
}

.pagination a.active {
	background-color: gray;
	color: white;
	border-radius: 2px;
}
</style>
</html>